From 6e73ff2a127071b873cbdf5a46e95a75498fcba7 Mon Sep 17 00:00:00 2001
From: TheDash <noobaca2@gmail.com>
Date: Thu, 5 Feb 2015 11:52:32 -0600
Subject: [PATCH 1/2] Added EMLConfig and CMakeLists.txt

---
 CMakeLists.txt  |  5 +++++
 EMLConfig.cmake | 21 +++++++++++++++++++++
 2 files changed, 26 insertions(+)
 create mode 100644 CMakeLists.txt
 create mode 100644 EMLConfig.cmake

diff --git a/CMakeLists.txt b/CMakeLists.txt
new file mode 100644
index 0000000..074b403
--- /dev/null
+++ b/CMakeLists.txt
@@ -0,0 +1,5 @@
+cmake_minimum_required(VERSION 2.8.3)
+
+add_subdirectory(eml-svn)
+
+install( FILES EMLConfig.cmake DESTINATION share/eml )
diff --git a/EMLConfig.cmake b/EMLConfig.cmake
new file mode 100644
index 0000000..28e3ed8
--- /dev/null
+++ b/EMLConfig.cmake
@@ -0,0 +1,21 @@
+# - Try to find EML
+# Once done this will define
+#  EML_FOUND - System has EML
+#  EML_INCLUDE_DIRS - The EML include directories
+#  EML_LIBRARIES - The libraries needed to use EML
+#  EML_DEFINITIONS - Compiler switches required for using EML
+
+find_path(EML_INCLUDE_DIR al/ethercat_master.h)
+
+find_library(EML_LIBRARY NAMES eml)
+
+set(EML_LIBRARIES ${EML_LIBRARY} )
+set(EML_INCLUDE_DIRS ${EML_INCLUDE_DIR} )
+
+include(FindPackageHandleStandardArgs)
+# handle the QUIETLY and REQUIRED arguments and set EML_FOUND to TRUE
+# if all listed variables are TRUE
+find_package_handle_standard_args(EML  DEFAULT_MSG
+   EML_LIBRARY EML_INCLUDE_DIR)
+
+mark_as_advanced(EML_INCLUDE_DIR EML_LIBRARY )
-- 
1.9.1

